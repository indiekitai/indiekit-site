---
title: "AI åŸç”Ÿ CLI è®¾è®¡ï¼šè®©ä½ çš„å·¥å…·è¢« Agent è°ƒç”¨"
date: 2026-02-20
tags: ["ai", "cli", "å¼€å‘å·¥å…·", "indie-hacker"]
description: "Karpathy è¯´ AI æ—¶ä»£çš„å·¥å…·åº”è¯¥æ˜¯ API/CLI ä¼˜å…ˆã€‚å…·ä½“æ€ä¹ˆåšï¼Ÿä¸‰ä¸ªè®¾è®¡åŸåˆ™ + å®æˆ˜æ¡ˆä¾‹ã€‚"
---

Karpathy æœ€è¿‘å‘äº†æ¡æ¨æ–‡ï¼Œå¤§æ„æ˜¯ï¼š

> AI åŸç”Ÿå·¥å…·åº”è¯¥æ˜¯ API/CLI ä¼˜å…ˆï¼Œè®© AI ç¼–æ’ç”Ÿæˆä¸´æ—¶åº”ç”¨ï¼Œè€Œä¸æ˜¯ç»™äººç±»è®¾è®¡æ¼‚äº® UIã€‚

è¿™è¯å¬ç€æŠ½è±¡ï¼Œä½†æˆ‘æ˜¨æ™šè¿åšäº† 4 ä¸ª CLI å·¥å…·åï¼Œçªç„¶æ‡‚äº†ã€‚

## é—®é¢˜ï¼šä¼ ç»Ÿ CLI å¯¹ AI ä¸å‹å¥½

å¤§éƒ¨åˆ† CLI å·¥å…·æ˜¯ç»™äººçœ‹çš„ï¼š

```bash
$ pg-health check
âœ… Database: healthy
âš ï¸  44 unused indexes found (688 KB)
ğŸ“Š Cache hit ratio: 99.2%
```

äººçœ‹ç€èˆ’æœï¼Œä½† AI çœ‹åˆ°è¿™å¨ä¸œè¥¿åªèƒ½ççŒœã€‚Emoji æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ44 æ˜¯è­¦å‘Šè¿˜æ˜¯é”™è¯¯ï¼Ÿè¦ä¸è¦å¤„ç†ï¼Ÿ

## è§£æ³•ï¼šä¸‰ä¸ªè®¾è®¡åŸåˆ™

### 1. `--json` è¾“å‡º

```bash
$ pg-health check --json
{
  "status": "warning",
  "checks": {
    "unused_indexes": {"count": 44, "size_bytes": 704512},
    "cache_hit_ratio": {"value": 0.992, "status": "ok"}
  }
}
```

AI èƒ½ç›´æ¥ parseï¼ŒçŸ¥é“å“ªä¸ªå­—æ®µæ˜¯ä»€ä¹ˆï¼Œåˆ¤æ–­é€»è¾‘æ¸…æ™°ã€‚

### 2. `--quiet` é™é»˜æ¨¡å¼

```bash
$ pg-health check --quiet
$ echo $?
1
```

ä¸è¾“å‡ºä»»ä½•ä¸œè¥¿ï¼Œåªè¿”å›é€€å‡ºç ã€‚é€‚åˆ cron job å’Œç®¡é“ç»„åˆã€‚

### 3. è¯­ä¹‰åŒ–é€€å‡ºç 

```
0 = ä¸€åˆ‡æ­£å¸¸
1 = æœ‰è­¦å‘Šï¼Œä½†ä¸è‡´å‘½
2 = æœ‰é”™è¯¯ï¼Œéœ€è¦å¤„ç†
3+ = ç‰¹å®šé”™è¯¯ç±»å‹
```

AI å¯ä»¥æ ¹æ®é€€å‡ºç å†³å®šä¸‹ä¸€æ­¥ï¼š0 å°±ç»§ç»­ï¼Œé 0 å°±å‘Šè­¦æˆ–è‡ªåŠ¨ä¿®å¤ã€‚

## å®æˆ˜ï¼šä¸€å¤œåšçš„ 4 ä¸ªå·¥å…·

æ˜¨æ™šæˆ‘ç”¨è¿™ä¸‰ä¸ªåŸåˆ™é‡æ„/æ–°å»ºäº† 4 ä¸ªå·¥å…·ï¼š

| å·¥å…· | ç”¨é€” | AI å‹å¥½ç‰¹æ€§ |
|------|------|------------|
| **mrr-cli** | æ”¶å…¥è¿½è¸ª | `--json` è¾“å‡º MRR/ARR/é¢„æµ‹ |
| **cron-health** | Cron ç›‘æ§ | `wrap` å‘½ä»¤è‡ªåŠ¨ä¸ŠæŠ¥æ‰§è¡ŒçŠ¶æ€ |
| **pg-health** | PG å¥åº·æ£€æŸ¥ | `suggest --json` + `fix --dry-run` |
| **pg2ts** | ç±»å‹ç”Ÿæˆ | `--quiet` åªåœ¨å‡ºé”™æ—¶è¾“å‡º |

æœ€çˆ½çš„æ˜¯ `pg-health`ï¼š

```bash
# AI å‘ç°é—®é¢˜
$ pg-health suggest --json
{"suggestions": [{"type": "drop_unused_index", "sql": "DROP INDEX..."}]}

# AI è‡ªåŠ¨ä¿®å¤
$ pg-health fix --type unused_indexes --dry-run
# ç¡®è®¤æ²¡é—®é¢˜å
$ pg-health fix --type unused_indexes
```

ä»"å‘ç°é—®é¢˜"åˆ°"è§£å†³é—®é¢˜"ï¼Œå…¨ç¨‹å¯è‡ªåŠ¨åŒ–ã€‚

## ä¸ºä»€ä¹ˆé‡è¦

AI Agent è¶Šæ¥è¶Šå¼ºï¼Œä½†å®ƒä»¬éœ€è¦è¶æ‰‹çš„å·¥å…·ã€‚ä¸€ä¸ªè®¾è®¡è‰¯å¥½çš„ CLIï¼š

- **å¯ç»„åˆ**ï¼šç®¡é“ä¸²è”ï¼Œè„šæœ¬è°ƒç”¨
- **å¯è§£æ**ï¼šJSON è¾“å‡ºï¼Œç»“æ„åŒ–æ•°æ®
- **å¯åˆ¤æ–­**ï¼šé€€å‡ºç æ˜ç¡®ï¼Œä¾¿äºåˆ†æ”¯é€»è¾‘

è¿™ä¸æ˜¯ä¸ºäº†é…·ï¼Œæ˜¯ä¸ºäº†è®©ä½ çš„å·¥å…·èƒ½è¢« Claude Codeã€OpenClawã€å„ç§ Agent ç›´æ¥è°ƒç”¨ã€‚

å†™ CLI çš„æ—¶å€™å¤šèŠ± 10 åˆ†é’ŸåŠ ä¸Š `--json` å’Œ `--quiet`ï¼Œä½ çš„å·¥å…·å°±ä»"äººç”¨çš„"å˜æˆ"äººå’Œ AI éƒ½èƒ½ç”¨çš„"ã€‚

---

ç›¸å…³é“¾æ¥ï¼š
- [mrr-cli](https://github.com/indiekitai/mrr-cli)
- [cron-health](https://github.com/indiekitai/cron-health)
- [pg-health](https://github.com/indiekitai/pg-health)
- [pg2ts](https://github.com/indiekitai/pg2ts)
