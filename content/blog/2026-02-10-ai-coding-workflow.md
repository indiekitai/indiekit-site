---
title: "我用 AI 一晚上写了 5 个 SaaS 工具的完整流程"
slug: ai-coding-workflow
date: 2026-02-10
description: "不是炫耀，是分享方法。从想法到上线的完整 AI 辅助开发流程，包括工具选择、prompt 技巧和踩坑记录。"
tags: ["AI编程", "Claude", "工作流", "教程"]
---


不是标题党。[这5个工具](/blog/build-5-saas-in-one-night/)真的在一个晚上完成，而且现在都在线运行。

这篇文章分享具体怎么做到的。

## 核心原则

**AI 是乘数，不是加数。**

如果你不知道要做什么、怎么做，AI 帮不了你。但如果你有清晰的想法，AI 能让执行速度快 10 倍。

## 工具选择

我用的是 **Claude Code CLI** — Anthropic 官方的命令行工具。

为什么不用 ChatGPT 或 Cursor？

1. **CLI 更快**：不用切换窗口，直接在终端干活
2. **上下文更长**：整个项目结构都能塞进去
3. **Claude 代码能力强**：个人体验比 GPT-4 更稳定

其他选择：
- **Cursor**：IDE 集成，适合喜欢图形界面的
- **GitHub Copilot**：自动补全为主，思路不同
- **Codex CLI**：OpenAI 的，也不错

## 工作流程

### 1. 先想清楚要什么

在打开任何工具之前，我会在纸上画：

- 这个工具解决什么问题？
- 最小功能是什么？
- 技术选型（语言、框架、存储）
- 大概的 API 设计

花 10 分钟想清楚，省 2 小时返工。

### 2. 一次性描述清楚

不要这样：

> "帮我写个监控服务"

要这样：

> "用 Python FastAPI 写一个 uptime 监控服务：
> - 支持添加/删除监控目标（URL）
> - 每分钟检查一次可用性
> - 检查失败时发 Telegram 通知
> - 数据存 JSON 文件
> - 提供简单的 Web 界面查看状态
> 
> 技术要求：
> - Python 3.11+, 用 uv 管理依赖
> - 异步 HTTP 请求（httpx）
> - 代码分模块：main.py, monitor.py, notifier.py, storage.py"

区别在于 **上下文完整**。AI 不需要猜你要什么。

### 3. 分步骤走

即使描述很清楚，也别指望一次生成完美代码。我的节奏是：

1. **先让它生成项目结构和核心逻辑**
2. 运行，看报错
3. **把报错贴回去让它修**
4. 功能跑通后，再 **逐个添加细节**

每一步都验证，比一口气生成 1000 行然后 debug 更高效。

### 4. 善用"继续"

Claude Code 有 token 限制。代码没写完时，直接说"继续"就行。

更好的做法是明确下一步：

> "继续，先完成 notifier.py 的 Telegram 发送逻辑"

### 5. 让 AI 自己测试

写完代码后：

> "写几个测试用例验证核心功能"

或者更实用的：

> "用 curl 命令测试这个 API，给我可以直接运行的命令"

## 实际例子：Uptime Ping

让我展示 Uptime Ping 的实际开发过程。

**第一个 prompt**：

```
用 Python FastAPI 写一个 uptime 监控服务。

功能：
1. POST /targets - 添加监控目标 {url, name}
2. DELETE /targets/{id} - 删除监控目标
3. GET /targets - 列出所有目标和最近状态
4. GET / - 简单的状态面板 HTML 页面

后台任务：
- 每 60 秒检查所有目标
- 记录响应时间和状态码
- 连续 3 次失败后发 Telegram 通知

存储：
- 用 JSON 文件，不要数据库

技术栈：
- Python 3.11, FastAPI, httpx, uv
- 分文件：main.py, monitor.py, notifier.py, storage.py
```

**5 分钟后**：有了可运行的代码框架。

**第二个 prompt**：

```
Telegram 通知没触发。检查 notifier.py 的逻辑，
确保：
1. 读取 TELEGRAM_BOT_TOKEN 和 TELEGRAM_CHAT_ID 环境变量
2. 正确调用 Telegram Bot API
3. 有错误处理
```

**修复后**：通知正常了。

**第三个 prompt**：

```
给状态面板加点样式，用 Tailwind CDN。
显示：
- 每个目标的名称、URL、状态
- 最近响应时间
- 上次检查时间
- 整体可用率
```

**完成**。整个过程不到 30 分钟。

## 常见坑和解决方案

### 坑 1：AI 编造不存在的 API

Claude 有时会用不存在的库或方法。

**解决**：明确指定版本，或者让它用标准库：

> "只用 Python 标准库和 httpx，不要其他第三方库"

### 坑 2：代码能跑但逻辑有 bug

AI 写的代码语法没问题，但业务逻辑可能有漏洞。

**解决**：写完后自己过一遍关键路径，或者让 AI review：

> "检查这段代码有没有边界情况没处理"

### 坑 3：上下文丢失

对话太长后，AI 会"忘记"之前的要求。

**解决**：关键信息重复提醒，或者把约定写在项目的 README 里让 AI 读。

## 效率对比

| 任务 | 纯手写 | AI 辅助 |
|------|--------|---------|
| Uptime Ping (610行) | 4-6 小时 | 30 分钟 |
| HN Digest (724行) | 6-8 小时 | 45 分钟 |
| 5 个工具合计 | 20-30 小时 | 3-4 小时 |

这不是夸张，是实际记录。

## 关键心态

**AI 不会取代你的思考，但会取代你的打字。**

想清楚要什么、怎么做、怎么验证 — 这些还是你的活。

AI 帮你把想法快速变成代码。这个加速本身就是巨大的价值。

---

*有问题欢迎交流，或者看看这些工具的源码（即将开源）。*
